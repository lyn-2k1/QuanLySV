/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package view;

import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import model.Student;
import service.IOFile;
import service.StudentService;

/**
 *
 * @author linh
 */
public class StudentManager extends javax.swing.JFrame {
    private StudentService studentService;
    private IOFile iOFile;
    private Student stu;
    
    /**
     * Creates new form StudentManager
     */
    public StudentManager(){
        initComponents();
        studentService = new StudentService();
        iOFile = new IOFile();
        thongbao(stu);
        setResizable(false);
    }
    
    public StudentManager(Student stu){
        initComponents();
        this.stu = stu;
        studentService = new StudentService();
        iOFile = new IOFile();
        thongbao(stu);
        setResizable(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btnHoSo = new javax.swing.JButton();
        btnHocPhi = new javax.swing.JButton();
        btnExit = new javax.swing.JButton();
        btnDoiMK = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        textfile = new javax.swing.JTextArea();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Student Manager ");
        setBackground(new java.awt.Color(255, 255, 255));
        setBounds(new java.awt.Rectangle(0, 0, 0, 0));

        btnHoSo.setBackground(new java.awt.Color(255, 0, 51));
        btnHoSo.setForeground(new java.awt.Color(255, 255, 255));
        btnHoSo.setText("Hồ Sơ");
        btnHoSo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHoSoActionPerformed(evt);
            }
        });

        btnHocPhi.setBackground(new java.awt.Color(255, 0, 51));
        btnHocPhi.setForeground(new java.awt.Color(255, 255, 255));
        btnHocPhi.setText("Học phí");
        btnHocPhi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHocPhiActionPerformed(evt);
            }
        });

        btnExit.setBackground(new java.awt.Color(255, 0, 51));
        btnExit.setForeground(new java.awt.Color(255, 255, 255));
        btnExit.setText("Exit");
        btnExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExitActionPerformed(evt);
            }
        });

        btnDoiMK.setBackground(new java.awt.Color(255, 0, 51));
        btnDoiMK.setForeground(new java.awt.Color(255, 255, 255));
        btnDoiMK.setText("Đổi mật khẩu");
        btnDoiMK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnDoiMKActionPerformed(evt);
            }
        });

        textfile.setEditable(false);
        textfile.setColumns(20);
        textfile.setLineWrap(true);
        textfile.setRows(5);
        textfile.setText("GIỚI THIỆU\nHọc viện Công nghệ Bưu chính Viễn thông được thành lập theo quyết định số 516/TTg của Thủ tướng Chính phủ ngày 11 tháng 7 năm 1997 trên cơ sở sắp xếp lại 4 đơn vị thành viên thuộc Tổng Công ty Bưu chính Viễn thông Việt Nam, nay là Tập đoàn Bưu chính Viễn thông Việt Nam là Viện Khoa học Kỹ thuật Bưu điện, Viện Kinh tế Bưu điện, Trung tâm đào tạo Bưu chính Viễn thông 1 và 2. Các đơn vị tiền thân của Học viện là những đơn vị có bề dày lịch sử hình thành và phát triển với xuất phát điểm từ Trường Đại học Bưu điện 1953.\n\nTừ ngày 1/7/2014, thực hiện Quyết định của Thủ tướng Chính phủ, Bộ trưởng Bộ Thông tin và Truyền thông đã ban hành Quyết định số 878/QĐ-BTTTT điều chuyển quyền quản lý Học viện từ Tập đoàn Bưu chính Viễn thông Việt Nam về Bộ Thông tin và Truyền thông. Học viện Công nghệ Bưu chính Viễn thông là đơn vị sự nghiệp trực thuộc Bộ. Là trường đại học, đơn vị nghiên cứu, phát triển nguồn nhân lực trọng điểm của Ngành thông tin và truyền thông.\n\nVới vị thế là đơn vị đào tạo, nghiên cứu trọng điểm, chủ lực của Ngành thông tin và truyền thông  Việt Nam, là trường đại học trọng điểm quốc gia trong lĩnh vực ICT, những thành tựu trong gắn kết giữa Nghiên cứu – Đào tạo – Sản xuất kinh doanh năng lực, quy mô phát triển của Học viện hôm nay, Học viện sẽ có những đóng góp hiệu quả phục vụ sự phát triển chung của Ngành Thông tin và truyền thông và sự nghiệp xây dựng, bảo vệ tổ quốc, góp phần để đất nước, để Ngành Thông tin và truyền thông Việt Nam có sự tự chủ, độc lập về khoa học công nghệ và nguồn nhân lực, qua đó tự tin cạnh tranh với các đối thủ lớn và sánh vai với các cường quốc trên thế giới.\n\nCƠ SỞ VẬT CHẤT HỌC VIỆN\nHọc viện có 2 cơ sở đào tạo Đại học tại Hà Nội và Thành phố Hồ Chí Minh với quy mô 29.000 sinh viên. Học viện cũng có 3 Viện nghiên cứu chuyên ngành CNTT & Truyền thông, Kinh tế với hàng trăm đề tài, nhiệm vụ KHCN hàng năm theo cơ chế đặt hàng từ doanh nghiệp. 2 trung tâm đào tạo bồi dưỡng của Học viện cung cấp các khóa đào tạo ngắn hạn với lưu lượng người học đạt 10.000 người/năm.\n\nCHƯƠNG TRÌNH ĐÀO TẠO\n\n1 Ngành Truyền thông Đa phương tiện\t\n2 Ngành Công nghệ Đa phương tiện\t\n3 Ngành Kế toán\t\n4 Ngành Quản trị kinh doanh\t\n5 Ngành Marketing\t\n6 Ngành An toàn thông tin\t\n7 Ngành Công nghệ thông tin\t\n8 Ngành Điện tử – Truyền thông\t\n9 Ngành Công nghệ Kỹ thuật Điện, điện tử\n\nNGHIÊN CỨU KHOA HỌC VÀ TƯ VẤN CHUYỂN GIAO CÔNG NGHỆ\nTổ chức nghiên cứu về chiến lược, quy hoạch phát triển mạng và dịch vụ bưu chính, viễn thông và công nghệ thông tin.\nTổ chức nghiên cứu về công nghệ, giải pháp và phát triển dịch vụ trong lĩnh vực bưu chính, viễn thông và công nghệ thông tin. Tổ chức nghiên cứu và phát triển các sản phẩm, bán sản phẩm trong lĩnh vực điện tử – viễn thông. Tổ chức nghiên cứu về quản lý, điều hành doanh nghiệp và các lĩnh vực kinh tế khác.\nCung cấp các dịch vụ tư vấn về công nghệ, giải pháp và phát triển dịch vụ trong lĩnh vực bưu chính, viễn thông, công nghệ thông tin và lĩnh vực kinh tế cho các đơn vị trong và ngoài Ngành thông tin và truyền thông  Việt Nam.\nCung cấp các dịch vụ đo lường, kiểm chuẩn, tư vấn thẩm định các công trình, dự án thuộc lĩnh vực bưu chính viễn thông và công nghệ thông tin.\nHọc viện được ký thoả ước hợp tác với các tổ chức nghiên cứu và đào tạo nước ngoài, trao đổi chuyên gia nghiên cứu và đào tạo với nước ngoài theo quy định của Nhà nước.\n\nHỌC VIỆN CÔNG NGHỆ BƯU CHÍNH VIỄN THÔNG\nTrụ sở chính:\n122 Hoàng Quốc Việt, Q.Cầu Giấy, Hà Nội.\n\nCơ sở đào tạo tại Hà Nội:\nKm10, Đường Nguyễn Trãi, Q.Hà Đông, Hà Nội\nHọc viện cơ sở tại TP. Hồ Chí Minh:\n11 Nguyễn Đình Chiểu, P. Đa Kao, Q.1 TP Hồ Chí Minh\n\nCơ sở đào tạo tại TP Hồ Chí Minh:\nĐường Man Thiện, P. Hiệp Phú, Q.9 TP Hồ Chí Minh\n");
        textfile.setWrapStyleWord(true);
        textfile.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jScrollPane1.setViewportView(textfile);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnHoSo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnHocPhi)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 275, Short.MAX_VALUE)
                        .addComponent(btnDoiMK)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnExit))
                    .addComponent(jScrollPane1))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnHoSo)
                    .addComponent(btnHocPhi)
                    .addComponent(btnExit)
                    .addComponent(btnDoiMK))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 276, Short.MAX_VALUE)
                .addGap(7, 7, 7))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnHocPhiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHocPhiActionPerformed
        // TODO add your handling code here:
        HocPhi hocPhi = new HocPhi();
        hocPhi.setVisible(true);
    }//GEN-LAST:event_btnHocPhiActionPerformed

    private void btnExitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExitActionPerformed
        // TODO add your handling code here:
        int option = JOptionPane.showConfirmDialog(this, "Bạn có chắc chắn muốn đăng xuất");
        System.out.println("option : " + option);            
        if(option == 0) {
            LoginStudent loginStudent = new LoginStudent();
            loginStudent.setVisible(true);
            this.dispose();
        }
    }//GEN-LAST:event_btnExitActionPerformed

    private void btnDoiMKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnDoiMKActionPerformed
        // TODO add your handling code here:
        SuaMatKhau suaMatKhau = new SuaMatKhau(this,true);
        suaMatKhau.setVisible(true);
//        this.dispose();
    }//GEN-LAST:event_btnDoiMKActionPerformed

    private void btnHoSoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHoSoActionPerformed
        // TODO add your handling code here:
        HoSo hoSo = new HoSo(this,true,stu);
        LoginStudent loginStudent = new LoginStudent();
        loginStudent.setVisible(true);
        this.dispose();
        hoSo.setVisible(true);
        
    }//GEN-LAST:event_btnHoSoActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(StudentManager.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(StudentManager.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(StudentManager.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(StudentManager.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                Student stu = new Student();
                new StudentManager(stu).setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnDoiMK;
    private javax.swing.JButton btnExit;
    private javax.swing.JButton btnHoSo;
    private javax.swing.JButton btnHocPhi;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextArea textfile;
    // End of variables declaration//GEN-END:variables
    public void thongbao(Student stu){
        if(stu.getMajors()==null){
            try {
               textfile.setText(iOFile.readUTF8Text("fileTrangchu.txt"));
            } catch (UnsupportedEncodingException ex) {
                Logger.getLogger(StudentManager.class.getName()).log(Level.SEVERE, null, ex);
            } catch (IOException ex) {
                Logger.getLogger(StudentManager.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
        else{
            try {
                textfile.setText(iOFile.readUTF8Text("fileThongBao.txt"));
            } catch (UnsupportedEncodingException ex) {
                Logger.getLogger(StudentManager.class.getName()).log(Level.SEVERE, null, ex);
            } catch (IOException ex) {
                Logger.getLogger(StudentManager.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }
}
